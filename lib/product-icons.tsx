import type { ProductPlatform, ProductIconStyle } from "./section-types";

/**
 * Brand colors for each product/streaming platform
 */
export const PRODUCT_BRAND_COLORS: Record<ProductPlatform, string> = {
  amazon: "#FF9900",
  itunes: "#FB5BC5",
  apple_music: "#FA243C",
  spotify: "#1DB954",
  youtube: "#FF0000",
  soundcloud: "#FF5500",
  tidal: "#000000",
  bandcamp: "#1DA0C3",
  custom: "#6B7280",
};

/**
 * Display labels for each platform
 */
export const PRODUCT_PLATFORM_LABELS: Record<ProductPlatform, string> = {
  amazon: "Amazon",
  itunes: "iTunes",
  apple_music: "Apple Music",
  spotify: "Spotify",
  youtube: "YouTube",
  soundcloud: "SoundCloud",
  tidal: "Tidal",
  bandcamp: "Bandcamp",
  custom: "Link",
};

/**
 * URL placeholders for each platform
 */
export const PRODUCT_URL_PLACEHOLDERS: Record<ProductPlatform, string> = {
  amazon: "https://amazon.com/dp/...",
  itunes: "https://music.apple.com/...",
  apple_music: "https://music.apple.com/...",
  spotify: "https://open.spotify.com/...",
  youtube: "https://youtube.com/watch?v=...",
  soundcloud: "https://soundcloud.com/...",
  tidal: "https://tidal.com/...",
  bandcamp: "https://bandcamp.com/...",
  custom: "https://example.com/...",
};

/**
 * Size mappings for product icons (in pixels)
 */
export type ProductIconSize = "small" | "medium" | "large";

export const PRODUCT_ICON_SIZES: Record<ProductIconSize, number> = {
  small: 20,
  medium: 24,
  large: 32,
};

/**
 * SVG path data for each platform icon
 * All icons are designed for a 24x24 viewBox
 */
const PRODUCT_ICON_PATHS: Record<ProductPlatform, React.ReactNode> = {
  amazon: (
    <path d="M13.958 10.09c0 1.232.029 2.256-.591 3.351-.502.891-1.301 1.438-2.186 1.438-1.214 0-1.922-.924-1.922-2.292 0-2.692 2.415-3.182 4.7-3.182v.685zm3.186 7.705a.66.66 0 01-.753.078c-1.057-.878-1.247-1.287-1.826-2.125-1.746 1.778-2.982 2.31-5.246 2.31-2.68 0-4.764-1.654-4.764-4.962 0-2.583 1.4-4.341 3.392-5.2 1.726-.756 4.14-.891 5.983-1.099v-.411c0-.753.058-1.642-.385-2.292-.385-.579-1.124-.82-1.775-.82-1.205 0-2.277.618-2.54 1.9-.054.285-.261.566-.549.58l-3.063-.33c-.259-.058-.543-.266-.47-.66C5.82 1.755 8.86 0 11.598 0c1.4 0 3.229.373 4.331 1.438 1.4 1.304 1.266 3.044 1.266 4.937v4.473c0 1.344.558 1.933 1.082 2.659.185.261.227.575-.01.77-.594.495-1.651 1.415-2.232 1.93l-.002-.001zM21.78 20.523c-2.728 2.008-6.686 3.077-10.095 3.077-4.776 0-9.08-1.764-12.334-4.703-.255-.23-.028-.545.279-.366 3.514 2.043 7.861 3.27 12.347 3.27 3.027 0 6.354-.627 9.418-1.925.46-.199.849.303.385.647zm1.102-1.258c-.349-.447-2.309-.211-3.19-.107-.268.033-.309-.2-.067-.368 1.561-1.098 4.126-.782 4.427-.413.3.371-.08 2.936-1.544 4.161-.225.189-.44.089-.34-.158.33-.822 1.063-2.668.714-3.115z" />
  ),
  itunes: (
    <path d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701" />
  ),
  apple_music: (
    <path d="M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.4-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.8.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03c.525 0 1.048-.034 1.57-.1.823-.106 1.597-.35 2.296-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.042-1.873-.092-2.66-.73-.83-.672-1.163-1.558-1.103-2.626.052-.913.48-1.624 1.256-2.12.625-.398 1.33-.544 2.066-.577.417-.02.834.003 1.25.047.142.015.283.04.426.063.022.003.044 0 .085 0v-4.85c0-.22.006-.44-.007-.66-.01-.15-.05-.194-.195-.186-.473.028-.946.062-1.42.102-.627.053-1.253.114-1.88.176-1.063.106-2.126.216-3.188.327-.186.02-.373.047-.558.07-.016.002-.034.01-.07.02v7.04c0 .418-.057.833-.248 1.216-.292.59-.762.963-1.395 1.14-.346.097-.7.152-1.06.167-.943.04-1.864-.094-2.65-.74-.826-.675-1.163-1.562-1.1-2.635.053-.912.48-1.62 1.26-2.116.624-.395 1.326-.538 2.06-.573.538-.026 1.075.01 1.612.086.03.004.065.012.1.018v-5.12c0-.317.002-.634.012-.95.007-.204.076-.284.28-.308.632-.073 1.264-.14 1.896-.21 1.042-.112 2.083-.224 3.125-.336 1.046-.112 2.092-.22 3.138-.333.36-.038.72-.082 1.082-.117.28-.028.393.062.4.34.007.273 0 .546 0 .82z" />
  ),
  spotify: (
    <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z" />
  ),
  youtube: (
    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
  ),
  soundcloud: (
    <path d="M1.175 12.225c-.051 0-.094.046-.101.1l-.233 2.154.233 2.105c.007.058.05.098.101.098.05 0 .09-.04.099-.098l.255-2.105-.27-2.154c-.009-.06-.052-.1-.1-.1m-.899.828c-.06 0-.091.037-.104.094L0 14.479l.165 1.308c.014.057.045.094.09.094s.089-.037.099-.094l.195-1.308-.196-1.332c-.01-.057-.061-.094-.09-.094m1.83-1.229c-.061 0-.12.045-.12.104l-.21 2.563.225 2.458c0 .06.045.104.106.104.061 0 .12-.044.12-.104l.24-2.458-.24-2.563c0-.061-.045-.106-.12-.106m.945-.089c-.075 0-.135.06-.15.135l-.193 2.64.21 2.544c.016.077.075.138.149.138.075 0 .135-.061.15-.138l.225-2.544-.225-2.64c-.015-.075-.06-.135-.135-.135l-.031-.001zm.96-.45c-.09 0-.149.075-.164.165l-.18 3.09.18 2.49c.015.09.075.149.165.149s.149-.061.18-.15l.195-2.489-.195-3.09c-.016-.09-.075-.165-.165-.165h-.016zm.976-.324c-.104 0-.18.09-.195.18l-.165 3.414.18 2.444c.015.104.09.18.195.18.09 0 .18-.076.195-.18l.192-2.444-.192-3.414c-.015-.09-.091-.18-.196-.18h-.014zm.99-.36c-.119 0-.21.09-.225.194l-.165 3.779.165 2.415c.015.12.105.209.225.209s.21-.089.225-.21l.18-2.414-.18-3.78c-.015-.119-.105-.194-.225-.194m1.021-.269c-.135 0-.225.104-.24.24l-.15 4.048.15 2.399c.015.12.105.226.239.226.12 0 .226-.106.24-.226l.166-2.399-.165-4.034c-.015-.135-.12-.254-.24-.254m1.049-.29c-.149 0-.27.135-.27.27l-.135 4.348.135 2.369c0 .149.121.27.27.27.135 0 .255-.12.255-.27l.15-2.369-.15-4.348c0-.135-.12-.27-.255-.27m1.065-.34c-.165 0-.285.135-.3.285l-.12 4.679.12 2.369c.015.15.135.27.3.27.15 0 .27-.12.285-.27l.135-2.369-.135-4.679c-.015-.15-.135-.285-.285-.285m1.065-.48c-.18 0-.314.15-.314.33l-.105 5.16.105 2.354c0 .18.135.315.314.315.165 0 .315-.135.315-.315l.12-2.354-.12-5.16c0-.18-.135-.33-.315-.33m1.095 0c-.194 0-.33.15-.345.329l-.09 5.159.09 2.34c.015.18.149.33.345.33.181 0 .33-.15.33-.33l.104-2.339-.104-5.16c0-.18-.149-.33-.33-.33m1.079-.09c-.195 0-.36.165-.36.359l-.074 5.249.074 2.324c.015.21.165.36.36.36.194 0 .345-.15.359-.36l.091-2.324-.091-5.249c-.014-.194-.165-.36-.359-.36m1.095-.27c-.209 0-.375.165-.389.375l-.061 5.519.061 2.31c.015.21.18.375.389.375.195 0 .375-.165.375-.375l.074-2.31-.074-5.519c0-.21-.18-.375-.375-.375m1.11-.135c-.224 0-.405.18-.405.404l-.061 5.654.061 2.296c.015.225.181.405.405.405.21 0 .39-.18.405-.405l.075-2.296-.075-5.654c-.015-.225-.195-.404-.405-.404m1.124-.195c-.239 0-.42.195-.435.42l-.045 5.849.046 2.266c.015.24.195.42.434.42.24 0 .42-.18.435-.42l.061-2.266-.061-5.849c-.016-.225-.196-.42-.436-.42m1.141-.18c-.254 0-.45.195-.465.435l-.03 6.029.03 2.25c.015.254.21.449.465.449s.45-.195.465-.449l.045-2.25-.045-6.029c-.015-.24-.21-.435-.465-.435m1.141-.15c-.27 0-.479.21-.494.465l-.015 6.194.015 2.236c.015.27.225.465.494.465.255 0 .479-.195.479-.465l.031-2.236-.031-6.194c0-.254-.224-.465-.479-.465m1.125-.165c-.285 0-.494.225-.494.494v6.359l.015 2.206c.015.285.21.495.494.495.27 0 .48-.21.494-.495l.016-2.206-.031-6.359c-.015-.27-.225-.494-.494-.494m1.094-.135c-.27 0-.479.21-.494.479l-.016 6.479.016 2.191c.015.27.24.495.494.495.27 0 .495-.225.495-.495l.015-2.191-.015-6.479c0-.27-.225-.479-.495-.479m1.095-.21c-.27 0-.48.209-.48.494v6.674l.015 2.175c0 .27.21.495.48.495.27 0 .494-.224.494-.494V14.48l-.015-6.674c0-.285-.225-.494-.494-.494m1.095-.39c-.27 0-.48.21-.48.48l-.015 7.063.015 2.16c0 .285.21.494.48.494.271 0 .495-.209.495-.494l.015-2.16-.03-7.063c0-.27-.224-.48-.48-.48m1.095-.675c-.27 0-.48.21-.48.48l-.015 7.738.015 2.145c0 .27.21.48.48.48.27 0 .494-.21.494-.48l.016-2.145-.016-7.738c0-.27-.224-.48-.494-.48m1.094-.255c-.27 0-.494.21-.494.479l-.015 8.209.015 2.145c.015.27.224.48.494.48.27 0 .494-.21.494-.48l.016-2.145-.016-8.209c0-.27-.224-.479-.494-.479m1.095-.45c-.27 0-.494.21-.494.48l-.016 8.674.016 2.13c.015.27.224.48.494.48.27 0 .495-.21.495-.48l.015-2.13-.015-8.674c0-.27-.225-.48-.495-.48m1.094-.525c-.27 0-.494.21-.494.48l-.016 9.19.016 2.115c.015.27.224.48.494.48.27 0 .494-.21.51-.48l.015-2.115-.015-9.19c-.016-.27-.24-.48-.51-.48m1.095-.51c-.27 0-.494.21-.494.48l-.016 9.69.016 2.1c.015.27.224.48.494.48.286 0 .51-.21.51-.48l.015-2.1-.015-9.69c0-.27-.225-.48-.51-.48m1.094.315c-.27 0-.494.209-.494.48v9.884c.015.27.224.48.494.48.27 0 .494-.21.51-.48v-9.884c-.016-.271-.24-.48-.51-.48m1.08.899c-.27 0-.494.209-.494.48v9.449c.015.27.224.479.494.479.27 0 .51-.209.51-.479v-9.45c0-.27-.24-.479-.51-.479" />
  ),
  tidal: (
    <path d="M12.012 3.992L8.008 7.996 4.004 3.992 0 7.996 4.004 12l4.004-4.004L12.012 12l4.004-4.004L12.012 3.992zM16.016 7.996L12.012 12l4.004 4.004L20.02 12l-4.004-4.004zM12.012 16.008L8.008 12.004l-4.004 4.004L8.008 20.012l4.004-4.004z" />
  ),
  bandcamp: (
    <path d="M0 18.75l7.437-13.5H24l-7.438 13.5H0z" />
  ),
  custom: (
    <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" />
  ),
};

interface ProductIconProps {
  platform: ProductPlatform;
  style?: ProductIconStyle;
  size?: ProductIconSize;
  primaryColor?: string;
  monochromeColor?: string;
  className?: string;
}

/**
 * Product/streaming platform icon component that supports brand colors, monochrome, and theme primary styles
 */
export function ProductIcon({
  platform,
  style = "brand",
  size = "medium",
  primaryColor = "#3B82F6",
  monochromeColor = "currentColor",
  className = "",
}: ProductIconProps) {
  const pixelSize = PRODUCT_ICON_SIZES[size];

  // Determine fill color based on style
  let fillColor: string;
  switch (style) {
    case "brand":
      fillColor = PRODUCT_BRAND_COLORS[platform];
      break;
    case "monochrome":
      fillColor = monochromeColor;
      break;
    case "primary":
      fillColor = primaryColor;
      break;
    default:
      fillColor = PRODUCT_BRAND_COLORS[platform];
  }

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width={pixelSize}
      height={pixelSize}
      viewBox="0 0 24 24"
      fill={fillColor}
      className={className}
      aria-label={PRODUCT_PLATFORM_LABELS[platform]}
    >
      {PRODUCT_ICON_PATHS[platform]}
    </svg>
  );
}

/**
 * Get the appropriate fill color for a product icon based on style
 */
export function getProductIconColor(
  platform: ProductPlatform,
  style: ProductIconStyle,
  primaryColor: string = "#3B82F6",
  monochromeColor: string = "currentColor"
): string {
  switch (style) {
    case "brand":
      return PRODUCT_BRAND_COLORS[platform];
    case "monochrome":
      return monochromeColor;
    case "primary":
      return primaryColor;
    default:
      return PRODUCT_BRAND_COLORS[platform];
  }
}
